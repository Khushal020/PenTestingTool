import os
from time import sleep

import bs4
import random
import re
import requests
import sys
import time



def get_proxies():
    urlLink = "https://free-proxy-list.net/"
    try:
        page = requests.get(urlLink)
        soup = bs4.BeautifulSoup(page.content, "html.parser")
        table = soup.find_all('table', attrs={'id': 'proxylisttable'}) and soup.table.find('tbody')
    except Exception as err:
        print("Please check the web site", err)

    data = []
    counter = 0
    for row in table:
        cols = row.find_all('td')
        
        cols = [x.text.strip() for x in cols]
        data.append([x for x in cols if x])
        del data[counter][2:8]
        data[counter] = '{}:{}'.format(data[counter][0], data[counter][1])
        counter += 1
    return data

if __name__ == "__main__":
    get_proxies()

